<!--Este formulario se hace con Reactive-Forms como se indica en las especificaciones del github:
*Formulari reactiu per al registre, login i perfil d'usuari*
-->
<div id="cuerpo">
<div class="login-wrapper">
  <div class="login-container">
    <h3>Login</h3>
    <form [formGroup]="formulario" (ngSubmit)="login()">
    <div class="form-group mb-3">
      <label for="inputEmail">Email</label>
      <input
        type="email"
        class="form-control"
        id="inputEmail"
        formControlName="email"
        aria-describedby="emailHelp"
        [ngClass]="{ 'is-invalid': emailNoValido, 'is-valid': emailValido }"
      >
      @if (emailNoValido) {
        <div class="invalid-feedback">Email no valido</div>
      }
    </div>

    <div class="form-group mb-3">
      <label for="inputPassword">Password</label>
      <input
        type="password"
        class="form-control"
        id="inputPassword"
        formControlName="password"
        [ngClass]="{ 'is-invalid': passwordNoValido }"
      >
      @if (passwordNoValido) {
        <div class="invalid-feedback">Password no valido</div>
      }
    </div>

    @if (mensajeError) {
      <div class="alert alert-danger">{{ mensajeError }}</div>
    }

    <button type="submit" class="btn btn-primary" [disabled]="formulario.invalid || enviando">
      {{ enviando ? 'Entrando...' : 'Entrar' }}
    </button>
  </form>
  </div>
</div>
</div>